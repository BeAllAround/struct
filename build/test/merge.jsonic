


basic: {
  in: [
    {a:1,b:2},
    {b:3,d:4},
  ]
  out: {
    a: 1, b: 3, d: 4
  }
}


cases: {
  set: [
    { in:
      [
        { a: 1, b: 2 },
        {
          b: 3,
          d: {
            e: 4,
            ee: 5
          },
          f: 6
        },
        {
          x: {
            y: { z: 7, zz: 8 }
          },
          q: { u: 9, uu: 10 },
          v: 11
        },
      ]
      out: {
        a: 1,
        b: 3,
        d: { e: 4, ee: 5 },
        f: 6,
        x: { y: { z: 7, zz: 8 } },
        q: { u: 9, uu: 10 },
        v: 11
      }
    }

    { in: [1,2], out: 2 }
    { in: [1,2,3], out: 3 }
    { in: [{},4], out: 4 }
    { in: [[],5], out: 5 }
    { in: [[],{}], out: {} }
    { in: [{},[]], out: [] }
    { in: [[6],{x:7}], out: {x:7} }
    { in: [{x:8},[9]], out: [9] }
  ]
}


array: {
  set: [
    # FIX: raw null causes crash!

    { }
    { in: 1, out: 1 }
    { in: {a:2}, out: {a:2} }
    { in: {a:{b:3}}, out: {a:{b:3}} }

    { in: [] }

    { in: [{a:1}, {}], out: {a:1} }
    { in: [{}, {a:2}], out: {a:2} }
    { in: [{a:22}, {a:33}], out: {a:33} }
    { in: [{a:22}, {a:33}, {a:44}], out: {a:44} }
    { in: [{a:3}, {b:4}], out: {a:3, b:4} }

    { in: [{a:{b:5}}, {}], out: {a:{b:5}} }
    { in: [{}, {a:{b:6}}], out: {a:{b:6}} }
    { in: [{a:{b:7}}, {a:{b:8}}], out: {a:{b:8}} }
    { in: [{a:{b:7}}, {a:{b:8}}, {a:{b:9}}], out: {a:{b:9}} }
    
    { in: [ [4] ], out: [ 4 ] }
    { in: [ [5],[55] ], out: [ 55 ] }
    { in: [ [51],[552],[5553] ], out: [ 5553 ] }
    { in: [{}, {a:[6]} ], out: { a: [ 6 ] } }

    { in: [{}, {a:[{b:7}], c:[{d:[8]}]} ],
      out: { a: [ { b: 7 } ], c: [ { d: [8] } ] } },
      
    { in: [ {a:[1,2], b:{c:3,d:4}}, {a:[11],  b:{c:33}} ],
      out: { a: [ 11, 2 ], b: { c: 33, d: 4 } } }
  ]
}
